<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Example B4: Standalone trajectory viewer &mdash; OVITO Python Reference 3.10.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />

  
    <link rel="shortcut icon" href="../../../_static/ovito.ico"/>
    <link rel="canonical" href="https://docs.ovito.org/python/introduction/examples/batch_scripts/trajectory_viewer.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Example M1: Calculating mean square displacement" href="../modifiers/msd_calculation.html" />
    <link rel="prev" title="Example B3: Creating particles and bonds programmatically" href="creating_particles.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #b94429" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/ovito_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.10.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">High-level API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../file_io.html">File I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pipelines.html">Data pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_manipulation.html">Manipulating data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom_modifiers.html">User-defined modifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom_file_readers.html">User-defined file readers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom_overlays.html">User-defined viewport layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rendering.html">Rendering &amp; visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_topics.html">Advanced topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../examples.html">Code examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../examples.html#standalone-automation-scripts">Standalone automation scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="voronoi_indices.html">Example B1: Computing Voronoi indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="cna_bond_indices.html">Example B2: Computing CNA bond indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="creating_particles.html">Example B3: Creating particles and bonds programmatically</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Example B4: Standalone trajectory viewer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html#user-defined-modifier-functions">User-defined modifier functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html#user-defined-viewport-layers">User-defined viewport layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples.html#user-defined-file-readers">User-defined file readers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito.html"><code class="docutils literal notranslate"><span class="pre">ovito</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_data.html"><code class="docutils literal notranslate"><span class="pre">ovito.data</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_io.html"><code class="docutils literal notranslate"><span class="pre">ovito.io</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_io_ase.html"><code class="docutils literal notranslate"><span class="pre">ovito.io.ase</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_io_lammps.html"><code class="docutils literal notranslate"><span class="pre">ovito.io.lammps</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_modifiers.html"><code class="docutils literal notranslate"><span class="pre">ovito.modifiers</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_pipeline.html"><code class="docutils literal notranslate"><span class="pre">ovito.pipeline</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_traits.html"><code class="docutils literal notranslate"><span class="pre">ovito.traits</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/ovito_vis.html"><code class="docutils literal notranslate"><span class="pre">ovito.vis</span></code></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #b94429" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OVITO Python Reference</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          

<div role="navigation" aria-label="Breadcrumbs">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../examples.html">Code examples</a> &raquo;</li>
      <li>Example B4: Standalone trajectory viewer</li>
      <li class="wy-breadcrumbs-aside" style="text-align: right;">
          <a href="https://www.ovito.org" style="padding: 1px;"">www.ovito.org&nbsp;<span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a><br>
          <a href="../../../../index.html" style="padding: 1px;">User&nbsp;Manual&nbsp;<span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="example-b4-standalone-trajectory-viewer">
<span id="example-trajectory-viewer"></span><h1>Example B4: Standalone trajectory viewer<a class="headerlink" href="#example-b4-standalone-trajectory-viewer" title="Permalink to this heading"></a></h1>
<p>This script demonstrates the application of the <a class="reference internal" href="../../../modules/ovito_vis.html#ovito.vis.Viewport.create_qt_widget" title="ovito.vis.Viewport.create_qt_widget"><code class="xref py py-class docutils literal notranslate"><span class="pre">Viewport.create_qt_widget()</span></code></a> method
to develop a simple viewer application for simulation trajectories. To implement a graphical user interface, the script makes use of the
<a class="reference external" href="https://doc.qt.io/qtforpython/">PySide6</a> cross-platform framework, which is also employed by OVITO internally.</p>
<p>The script creates a viewport widget – to visualize the results of a <a class="reference internal" href="../../../modules/ovito_pipeline.html#ovito.pipeline.Pipeline" title="ovito.pipeline.Pipeline"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pipeline</span></code></a> –
and a <code class="docutils literal notranslate"><span class="pre">QSlider</span></code> widget, which lets the user control the current trajectory frame shown in the viewport widget.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>OVITO’s Python API is not yet fully fleshed out in the area of GUI viewport widgets.
The following solution for controlling the displayed animation frame is inofficial and currently requires accessing
an undocumented object (<code class="docutils literal notranslate"><span class="pre">ovito.scene.anim</span></code>). This non-public interface will most likely change in future versions of
the OVITO Python module.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">PySide6.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span>
<span class="kn">from</span> <span class="nn">PySide6.QtWidgets</span> <span class="kn">import</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QSlider</span><span class="p">,</span> <span class="n">QVBoxLayout</span>

<span class="c1"># Create a global Qt application object.</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

<span class="c1"># Note: Import the ovito module AFTER the QApplication object has been created.</span>
<span class="c1"># Otherwise, the ovito module automatically creates its own QCoreApplication object,</span>
<span class="c1"># which wouldn&#39;t let us display a GUI.</span>
<span class="kn">from</span> <span class="nn">ovito.io</span> <span class="kn">import</span> <span class="n">import_file</span>
<span class="kn">from</span> <span class="nn">ovito.vis</span> <span class="kn">import</span> <span class="n">Viewport</span>
<span class="kn">import</span> <span class="nn">ovito</span>

<span class="c1"># Create a Qt main window.</span>
<span class="n">mainwin</span> <span class="o">=</span> <span class="n">QMainWindow</span><span class="p">()</span>
<span class="n">mainwin</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;OVITO Trajectory Viewer&#39;</span><span class="p">)</span>
<span class="n">central_widget</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
<span class="n">central_layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="n">central_widget</span><span class="p">)</span>
<span class="n">mainwin</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">central_widget</span><span class="p">)</span>

<span class="c1"># Create a virtual OVITO viewport.</span>
<span class="n">vp</span> <span class="o">=</span> <span class="n">Viewport</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">Viewport</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">Perspective</span><span class="p">,</span> <span class="n">camera_dir</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

<span class="c1"># Create the GUI widget associated with the OVITO viewport.</span>
<span class="n">vp_widget</span> <span class="o">=</span> <span class="n">vp</span><span class="o">.</span><span class="n">create_qt_widget</span><span class="p">()</span>
<span class="n">central_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">vp_widget</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create a time slider widget.</span>
<span class="n">time_slider</span> <span class="o">=</span> <span class="n">QSlider</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Horizontal</span><span class="p">)</span>
<span class="n">time_slider</span><span class="o">.</span><span class="n">setTickInterval</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">time_slider</span><span class="o">.</span><span class="n">setTickPosition</span><span class="p">(</span><span class="n">QSlider</span><span class="o">.</span><span class="n">TicksBothSides</span><span class="p">)</span>
<span class="n">central_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">time_slider</span><span class="p">)</span>

<span class="c1"># When user moves the time slider, update the current time of the OVITO animation settings object.</span>
<span class="k">def</span> <span class="nf">on_time_slider</span><span class="p">(</span><span class="n">frame</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="n">ovito</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">anim</span><span class="o">.</span><span class="n">current_frame</span> <span class="o">=</span> <span class="n">frame</span>
<span class="n">time_slider</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">on_time_slider</span><span class="p">)</span>

<span class="c1"># Show the main window.</span>
<span class="n">mainwin</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
<span class="n">mainwin</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Import a trajectory and add the model to the visualization scene.</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">import_file</span><span class="p">(</span><span class="s1">&#39;animation1.dump&#39;</span><span class="p">)</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">add_to_scene</span><span class="p">()</span>

<span class="c1"># Adjust value range of time slider to reflect number of trajectory frames.</span>
<span class="n">time_slider</span><span class="o">.</span><span class="n">setMaximum</span><span class="p">(</span><span class="n">pipeline</span><span class="o">.</span><span class="n">source</span><span class="o">.</span><span class="n">num_frames</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Adjust viewport camera to show the entire scene.</span>
<span class="n">vp</span><span class="o">.</span><span class="n">zoom_all</span><span class="p">((</span><span class="n">vp_widget</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="n">vp_widget</span><span class="o">.</span><span class="n">height</span><span class="p">()))</span>

<span class="c1"># Start the Qt event loop.</span>
<span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">())</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="creating_particles.html" class="btn btn-neutral float-left" title="Example B3: Creating particles and bonds programmatically" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../modifiers/msd_calculation.html" class="btn btn-neutral float-right" title="Example M1: Calculating mean square displacement" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 OVITO GmbH, Germany.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>