<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Atomic strain &mdash; OVITO User Manual 3.10.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/style.css" />

  
    <link rel="shortcut icon" href="../../../_static/ovito.ico"/>
    <link rel="canonical" href="https://docs.ovito.org/reference/pipelines/modifiers/atomic_strain.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Bond analysis pro" href="bond_analysis.html" />
    <link rel="prev" title="Assign color" href="assign_color.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/ovito_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.10.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">About OVITO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../new_features.html">What's new</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usage/index.html">Basic usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced_topics/index.html">Advanced topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Pipelines</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../data_sources/index.html">Data sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_objects/index.html">Data objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../visual_elements/index.html">Visual elements</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Modifiers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="bond_angle_analysis.html">Ackland-Jones analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="affine_transformation.html">Affine transformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="ambient_occlusion.html">Ambient occlusion</a></li>
<li class="toctree-l4"><a class="reference internal" href="assign_color.html">Assign color</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Atomic strain</a></li>
<li class="toctree-l4"><a class="reference internal" href="bond_analysis.html">Bond analysis <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="calculate_local_entropy.html">Calculate local entropy <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="centrosymmetry.html">Centrosymmetry parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="chill_plus.html">Chill+</a></li>
<li class="toctree-l4"><a class="reference internal" href="clear_selection.html">Clear selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="cluster_analysis.html">Cluster analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="color_by_type.html">Color by type <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="color_coding.html">Color coding</a></li>
<li class="toctree-l4"><a class="reference internal" href="combine_particle_sets.html">Combine datasets</a></li>
<li class="toctree-l4"><a class="reference internal" href="common_neighbor_analysis.html">Common neighbor analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="compute_property.html">Compute property</a></li>
<li class="toctree-l4"><a class="reference internal" href="construct_surface_mesh.html">Construct surface mesh</a></li>
<li class="toctree-l4"><a class="reference internal" href="coordination_analysis.html">Coordination analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="coordination_polyhedra.html">Coordination polyhedra</a></li>
<li class="toctree-l4"><a class="reference internal" href="create_bonds.html">Create bonds</a></li>
<li class="toctree-l4"><a class="reference internal" href="create_isosurface.html">Create isosurface</a></li>
<li class="toctree-l4"><a class="reference internal" href="delete_selected_particles.html">Delete selected</a></li>
<li class="toctree-l4"><a class="reference internal" href="dislocation_analysis.html">Dislocation analysis (DXA)</a></li>
<li class="toctree-l4"><a class="reference internal" href="displacement_vectors.html">Displacement vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="elastic_strain.html">Elastic strain calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="expand_selection.html">Expand selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="expression_select.html">Expression selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="freeze_property.html">Freeze property</a></li>
<li class="toctree-l4"><a class="reference internal" href="generate_trajectory_lines.html">Generate trajectory lines</a></li>
<li class="toctree-l4"><a class="reference internal" href="grain_segmentation.html">Grain segmentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="histogram.html">Histogram</a></li>
<li class="toctree-l4"><a class="reference internal" href="identify_diamond.html">Identify diamond structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="identify_fcc_planar_faults.html">Identify fcc planar faults <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="interactive_molecular_dynamics.html">Interactive molecular dynamics (IMD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="invert_selection.html">Invert selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="load_trajectory.html">Load trajectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="manual_selection.html">Manual selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="polyhedral_template_matching.html">Polyhedral template matching</a></li>
<li class="toctree-l4"><a class="reference internal" href="python_script.html">Python script <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="render_lammps_regions.html">Render LAMMPS regions <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="show_periodic_images.html">Replicate</a></li>
<li class="toctree-l4"><a class="reference internal" href="scatter_plot.html">Scatter plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="select_particle_type.html">Select type</a></li>
<li class="toctree-l4"><a class="reference internal" href="shrink_wrap_box.html">Shrink-wrap simulation box <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="slice.html">Slice</a></li>
<li class="toctree-l4"><a class="reference internal" href="smooth_trajectory.html">Smooth trajectory</a></li>
<li class="toctree-l4"><a class="reference internal" href="bin_and_reduce.html">Spatial binning <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="correlation_function.html">Spatial correlation function</a></li>
<li class="toctree-l4"><a class="reference internal" href="time_averaging.html">Time averaging <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="time_series.html">Time series <span class="ovito-pro-tag-role"><a class="ovito-pro-tag" href="https://www.ovito.org/#proFeatures" data-tooltip="This program feature is only available in OVITO Pro and not OVITO Basic. Click to learn more." data-tooltip-position="right">pro</a></span></a></li>
<li class="toctree-l4"><a class="reference internal" href="unwrap_trajectories.html">Unwrap trajectories</a></li>
<li class="toctree-l4"><a class="reference internal" href="voronoi_analysis.html">Voronoi analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="vorotop_analysis.html">VoroTop analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="wigner_seitz_analysis.html">Wigner-Seitz defect analysis</a></li>
<li class="toctree-l4"><a class="reference internal" href="wrap_at_periodic_boundaries.html">Wrap at periodic boundaries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../viewports/index.html">Viewports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rendering/index.html">Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data_inspector/index.html">Data inspector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app_settings/index.html">Application settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../ovito_pro.html">OVITO Pro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../development/index.html">Developer instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../licenses/index.html">Licensing information</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OVITO User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          

<div role="navigation" aria-label="Breadcrumbs">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Reference</a> &raquo;</li>
          <li><a href="../index.html">Pipelines</a> &raquo;</li>
          <li><a href="index.html">Modifiers</a> &raquo;</li>
      <li>Atomic strain</li>
      <li class="wy-breadcrumbs-aside" style="text-align: right;">
          <a href="https://www.ovito.org" style="padding: 1px;"">www.ovito.org&nbsp;<span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a><br>
          <a href="../../../python/index.html" style="padding: 1px;">Python&nbsp;Reference&nbsp;<span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="particles-modifiers-atomic-strain">
<span id="atomic-strain"></span><h1>Atomic strain<a class="headerlink" href="#particles-modifiers-atomic-strain" title="Permalink to this heading"></a></h1>
<a class="reference internal image-reference" href="../../../_images/atomic_strain_panel.png"><img alt="../../../_images/atomic_strain_panel.png" class="align-right" src="../../../_images/atomic_strain_panel.png" style="width: 35%;" /></a>
<p>This modifier calculates the atomic-level deformation gradient and the strain tensor at each particle from the relative motion
of its neighbors. The two per-particle tensors represent versions of the corresponding <a class="reference external" href="https://en.wikipedia.org/wiki/Finite_strain_theory#Deformation_gradient_tensor">continuum kinematic quantities</a>
obtained from averaging the discrete particle displacements over finite volumes around each particle.</p>
<p>The deformation calculation is based on two input particle configurations: the <em>reference</em> (or initial) configuration
and the <em>current</em> (or deformed) configuration. In other words, the local deformation is calculated with
respect to some explicitly specified initial arrangement of the input particles.
The modifier always considers the currently loaded particle positions as the current configuration.
The reference particle positions are by default taken from frame 0 of the same animation sequence.
Alternatively, the modifier supports loading the reference particle positions from a separate data file.</p>
<p>Conceptually, the calculation of various micromechanical quantities happens in several steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>First, the particle displacement vectors <span class="math notranslate nohighlight">\({\mathbf{u}_i}\)</span> are calculated from the particle positions in the initial and the final configuration.</p></li>
<li><p>Based on this information, the atomic <a class="reference external" href="https://en.wikipedia.org/wiki/Finite_strain_theory#Deformation_gradient_tensor">deformation gradient tensor</a> <span class="math notranslate nohighlight">\(\mathbf{F}\)</span> is calculated for each particle.</p></li>
<li><p>Based on <span class="math notranslate nohighlight">\(\mathbf{F}\)</span>, the atomic <a class="reference external" href="https://en.wikipedia.org/wiki/Finite_strain_theory#Finite_strain_tensors">Green-Lagrangian strain tensor</a> <span class="math notranslate nohighlight">\(\mathbf{E} = 1/2 (\mathbf{F}^{\mathrm{T}} \mathbf{F} - \mathbf{I})\)</span> is derived for each particle.</p></li>
<li><p>Based on <span class="math notranslate nohighlight">\(\mathbf{E}\)</span>, the <em>von Mises</em> local shear invariant and the hydrostatic strain measure are calculated.</p></li>
<li><p>Additionally, a <a class="reference external" href="https://en.wikipedia.org/wiki/Finite_strain_theory#Polar_decomposition_of_the_deformation_gradient_tensor">polar decomposition</a> of the atomic deformation gradient <span class="math notranslate nohighlight">\(\mathbf{F}\)</span> yields a local rotation tensor <span class="math notranslate nohighlight">\(\mathbf{R}\)</span> and a stretch tensor <span class="math notranslate nohighlight">\(\mathbf{U}\)</span>.</p></li>
<li><p>Furthermore, a quantity knows as <span class="math notranslate nohighlight">\(D_{\mathrm{min}}^2\)</span> may be calculated from the particle displacements and the deformation gradient <span class="math notranslate nohighlight">\(\mathbf{F}\)</span>, which is a measure for the non-affine part of the local deformation.</p></li>
</ol>
</div></blockquote>
<p>The modifier outputs these micromechanical quantities as new particle properties. You can use the <a class="reference internal" href="color_coding.html#particles-modifiers-color-coding"><span class="std std-ref">Color coding</span></a> modifier, for example,
to visualize the values of these properties in OVITO or look at specific particles using the <a class="reference internal" href="../../data_inspector/index.html#data-inspector"><span class="std std-ref">Data Inspector</span></a>.
Note that the displacements are only intermediate calculation results which are not output by the modifier.
If you need them, please use the <a class="reference internal" href="displacement_vectors.html#particles-modifiers-displacement-vectors"><span class="std std-ref">Displacement vectors</span></a> modifier.</p>
<section id="role-of-the-cutoff-radius">
<h2>Role of the cutoff radius<a class="headerlink" href="#role-of-the-cutoff-radius" title="Permalink to this heading"></a></h2>
<p>The <span class="guilabel">Cutoff radius</span> is a parameter of the modifier controlling the range of neighbors taken
into account when computing the atomic deformation gradient tensor for a particle. In other words this parameter determines
the size of a spherical volume around the particle over which the relative motion of neighboring particles is averaged to obtain
the continuum deformation measure. As a rule of thumb: Use a smaller cutoff radius parameter to resolve all local details of the deformation field.
On the other hand, a large cutoff radius will yield slowly varying (smooth) deformation values at the atomic sites.</p>
<p>A typical choice for the cutoff radius parameter is to use the first minimum of the pair distribution function, i.e. placing
the cutoff halfway between the first and the second shell of neighbors in the system at hand. You can calculate the pair distribution
function for the current system using OVITO’s <a class="reference internal" href="coordination_analysis.html#particles-modifiers-coordination-analysis"><span class="std std-ref">Coordination analysis</span></a> modifier.</p>
<p>Since the deformation gradient at each site is calculated from the relative motion of neighboring particles, it is important to ensure that sufficient
neighbors are within the given cutoff range (in the undeformed configuration). This puts a lower limit on the
cutoff radius that you can safely use. For three-dimensional systems, OVITO requires at a minimum three neighbors within
the cutoff range of the central particle in order to calculate a deformation gradient tensor. Furthermore, these three neighbors must not be co-planar.
If the cutoff radius has been chosen too small and there are less than three neighbors within range of the central particle,
the deformation gradient calculation and all subsequent calculations will fail for the particle. The modifier will notify you about this situation
in the status field and will, for diagnostic purposes, select all such “undercoordinated” particles for which the calculation failed.
Depending on the situation, you may react to this kind of condition by bumping up the cutoff radius parameter in order for more neighbors
to be included in the cutoff sphere.</p>
</section>
<section id="two-dimensional-systems">
<h2>Two-dimensional systems<a class="headerlink" href="#two-dimensional-systems" title="Permalink to this heading"></a></h2>
<p>Depending on the selected <a class="reference internal" href="../data_objects/simulation_cell.html#scene-objects-simulation-cell"><span class="std std-ref">dimensionality</span></a> of the input simulation cell,
the atomic strain calculation is either performed in 2D or 3D mode. In 3D mode, all 9 components of the atomic
deformation gradient tensor are calculated from the relative motion vectors of neighboring particles using
a least-squares fit. In 2D mode, only 4 independent components are calculated:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>3D mode:</p></td>
<td><p>2D mode:</p></td>
</tr>
<tr class="row-even"><td><div class="math notranslate nohighlight">
\[\begin{split}\mathbf{F} = \begin{pmatrix}
F_{\mathrm{xx}} &amp; F_{\mathrm{xy}} &amp; F_{\mathrm{xz}} \\
F_{\mathrm{yx}} &amp; F_{\mathrm{yy}} &amp; F_{\mathrm{yz}} \\
F_{\mathrm{zx}} &amp; F_{\mathrm{zy}} &amp; F_{\mathrm{zz}}
\end{pmatrix}\end{split}\]</div>
</td>
<td><div class="math notranslate nohighlight">
\[\begin{split}\mathbf{F} = \begin{pmatrix}
F_{\mathrm{xx}} &amp; F_{\mathrm{xy}} &amp; 0 \\
F_{\mathrm{yx}} &amp; F_{\mathrm{yy}} &amp; 0 \\
0 &amp; 0 &amp; 1
\end{pmatrix}\end{split}\]</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="more-on-the-micromechanical-quantities">
<h2>More on the micromechanical quantities<a class="headerlink" href="#more-on-the-micromechanical-quantities" title="Permalink to this heading"></a></h2>
<p>The atomic strain calculation in OVITO is based on finite-strain theory. Accordingly, strain is measured using the
<a class="reference external" href="https://en.wikipedia.org/wiki/Finite_strain_theory#Finite_strain_tensors">Green-Lagrangian strain tensor</a>
<span class="math notranslate nohighlight">\(\mathbf{E} = 1/2 (\mathbf{F}^{\mathrm{T}} \mathbf{F} - \mathbf{I})\)</span>.
On the basis of this symmetric strain tensor, the modifier also calculates the <em>von Mises</em> local shear invariant and the
volumetric (hydrostatic) part of the strain tensor and outputs these scalar quantities as particle properties named
<code class="docutils literal notranslate"><span class="pre">Shear</span> <span class="pre">Strain</span></code> and <code class="docutils literal notranslate"><span class="pre">Volumetric</span> <span class="pre">Strain</span></code>, respectively. The former is a good measure for shear deformations
along arbitrary directions.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>3D mode:</p></th>
<th class="head"><p>2D mode:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Shear strain:</p></td>
<td><div class="math notranslate nohighlight">
\[\begin{split}[ E_{\mathrm{xy}}^2 + &amp; E_{\mathrm{xz}}^2 + E_{\mathrm{yz}}^2 + 1/6 (\\
&amp; (E_{\mathrm{xx}} - E_{\mathrm{yy}})^2 + (E_{\mathrm{xx}} - E_{\mathrm{zz}})^2 + (E_{\mathrm{yy}} - E_{\mathrm{zz}})^2)]^{1/2}\end{split}\]</div>
</td>
<td><p><span class="math notranslate nohighlight">\([ E_{\mathrm{xy}}^2 + 1/2 (E_{\mathrm{xx}} - E_{\mathrm{yy}})^2]^{1/2}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Volumetric strain:</p></td>
<td><p><span class="math notranslate nohighlight">\((E_{\mathrm{xx}} + E_{\mathrm{yy}} + E_{\mathrm{zz}}) / 3\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\((E_{\mathrm{xx}} + E_{\mathrm{yy}}) / 2\)</span></p></td>
</tr>
</tbody>
</table>
<p>The deformation gradient and the strain tensor both can only describe material deformations that are locally affine.
In fact, the atomic deformation gradient tensor is computed such that it best describes only the affine component of the
true deformation, which may actually be non-affine within the spherical sampling volumes. Falk &amp; Langer (see reference below) have proposed a measure to
quantify the deviation of the true deformation from the affine approximation that the atomic deformation
gradient represents. This measure, the <em>non-affine squared displacement</em> (<span class="math notranslate nohighlight">\(D_{\mathrm{min}}^2\)</span>),
is basically the <a class="reference external" href="http://li.mit.edu/A/Graphics/A/annotate_atomic_strain/Doc/main.pdf">residual of the least-squares fit</a> through which the deformation gradient is calculated.
It may be used as a diagnostic for identifying local irreversible shear transformations in amorphous solids, for example.</p>
<p>When calculating <span class="math notranslate nohighlight">\(D_{\mathrm{min}}^2\)</span>, OVITO follows the original formulation given by
Falk and Langer, which consists of summing up the squared differences between the actual displacements of neighbors and
the computed affine approximation. In the current implementation, this sum does <em>not</em> get divided by the
number of neighbors within the cutoff range. Thus, the calculated <span class="math notranslate nohighlight">\(D_{\mathrm{min}}^2\)</span>
value for a particle is not normalized and will depend on the number of neighbors that are included in the selected cutoff volume. That means <span class="math notranslate nohighlight">\(D_{\mathrm{min}}^2\)</span> values will naturally increase
if you increase the cutoff radius.</p>
<p>The atomic deformation gradient <span class="math notranslate nohighlight">\(\mathbf{F}\)</span> can be decomposed into the product <span class="math notranslate nohighlight">\(\mathbf{F} = \mathbf{R} \cdot \mathbf{U}\)</span>
with <span class="math notranslate nohighlight">\(\mathbf{R}\)</span> being the rigid-body rotation tensor and <span class="math notranslate nohighlight">\(\mathbf{U}\)</span> the right stretch tensor.
<span class="math notranslate nohighlight">\(\mathbf{U}\)</span> is symmetric positive definite. In OVITO the local rotation <span class="math notranslate nohighlight">\(\mathbf{R}\)</span> is encoded
as a quaternion <span class="math notranslate nohighlight">\(\mathbf{R} = (R_{\mathrm{x}}, R_{\mathrm{y}}, R_{\mathrm{z}}, R_{\mathrm{w}})\)</span> and is output by the modifier
as the particle property named <code class="docutils literal notranslate"><span class="pre">Rotation</span></code>. From this, the angle of rotation (in radians) for each particle can subsequently be
obtained as <code class="docutils literal notranslate"><span class="pre">theta</span> <span class="pre">=</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">acos(Rotation.W)</span></code> using OVITO’s <a class="reference internal" href="compute_property.html#particles-modifiers-compute-property"><span class="std std-ref">Compute property</span></a> modifier.</p>
</section>
<section id="reference-configuration">
<h2>Reference configuration<a class="headerlink" href="#reference-configuration" title="Permalink to this heading"></a></h2>
<p>By default, the modifier obtains the reference particle positions from the currently loaded
simulation sequence by evaluating the data pipeline at animation time 0. This default mode
is denoted as <span class="guilabel">Constant reference configuration</span> in the user interface.
If desired, OVITO allows you to pick an animation frame other than 0 as reference.</p>
<p>Alternatively, you can let OVITO calculate incremental deformation quantities using
the option <span class="guilabel">Relative to current frame</span>. In this mode, a sliding reference
configuration is used, based on a relative time offset with respect to the current configuration.
Negative offsets correspond to a reference configuration preceding the current configuration
in time. An offset of -1, for example, lets OVITO use the animation frame immediately preceding
the current frame as reference. Note that, in this case, deformation quantities cannot be calculated at
frame 0, because there is no preceding frame.</p>
<p>If you want to load the reference particle positions from a separate file instead of taking
them from the currently loaded dataset, you can select the data source option <span class="guilabel">External file</span>.
Activating this option will show an additional panel (<cite>Reference: External file</cite>) allowing you to
pick the file containing the undeformed particle positions.</p>
</section>
<section id="particle-identities">
<h2>Particle identities<a class="headerlink" href="#particle-identities" title="Permalink to this heading"></a></h2>
<p>In order to calculate the displacement vectors that enter in the deformation gradient calculation, OVITO needs to build a one-to-one mapping between the particles in the undeformed
and the deformed configuration. If the particles possess a property named <code class="docutils literal notranslate"><span class="pre">Particle</span> <span class="pre">Identifier</span></code>,
then OVITO will use this identity information to generate the mapping. In such a case, it is okay if the storage order of particles
in the input file(s) changes with time. However, if particles do not possess unique identifiers, then the modifier requires that
the reference configuration contains exactly the same number of particles as the current configuration
and it assumes that they are stored in the same order. This assumption is not always true as some simulation
codes reorder particles during a simulation run for performance reasons. If you forget to dump the particle IDs or atom IDs
in addition to the positions during a simulation, you should be aware that OVITO may compute wrong displacement vectors because of
an invalid default particle mapping. You can use the <a class="reference internal" href="../../data_inspector/index.html#data-inspector"><span class="std std-ref">Data Inspector</span></a>
to check for the presence of the <code class="docutils literal notranslate"><span class="pre">Particle</span> <span class="pre">Identifier</span></code> property after file import.</p>
</section>
<section id="affine-mapping-of-the-simulation-cell">
<h2>Affine mapping of the simulation cell<a class="headerlink" href="#affine-mapping-of-the-simulation-cell" title="Permalink to this heading"></a></h2>
<p>Note: This option applies to systems with periodic boundary conditions. For non-periodic systems (and typically also for
systems with mixed boundary conditions) it should remain turned off.</p>
<p>The setting <span class="guilabel">Affine mapping</span> controls how OVITO treats situations in which the shape or volume of the periodic simulation cell
changes from the initial to the deformed configuration. Such a cell change typically occurs in simulations due to straining or
pressure/stress relaxation. Because the calculation of displacement vectors is ambiguous in such situations,
the affine mapping option lets you control the precise calculation method.</p>
<p>If affine mapping is turned off (the default), atomic displacements are calculated simply by subtracting the initial particle position from
the current position. Any change of the simulation cell geometry is ignored.</p>
<p>The mode <span class="guilabel">To reference</span> performs a remapping of the current particle positions into the reference simulation cell
before calculating the displacement vectors. For that, OVITO first computes an affine transformation from the current and the reference
simulation cell geometry and applies it to the particle coordinates. This mode may be used to effectively filter out contributions
to the atomic strain that stem from the uniform deformation of the simulation cell, retaining only the internal, non-uniform
deformation of the particles.</p>
<p>The mode <span class="guilabel">To current</span> performs the opposite type of preprocessing: It transforms the particles of the undeformed configuration to the deformed
cell before calculating the displacements. It does that by applying the same affine transformation that the
simulation cell undergoes.</p>
</section>
<section id="minimum-image-convention">
<h2>Minimum image convention<a class="headerlink" href="#minimum-image-convention" title="Permalink to this heading"></a></h2>
<p>This option tells OVITO whether or not to use the <a class="reference external" href="https://en.wikipedia.org/wiki/Periodic_boundary_conditions#Practical_implementation:_continuity_and_the_minimum_image_convention">minimum image convention</a>
when calculating the displacement vectors for systems with periodic boundary conditions.
You should deactivate this option if you work with <em>unwrapped</em> particle coordinates. In this case
OVITO assumes that particle trajectories are all continuous. On the other hand, if you work with
<em>wrapped</em> particle coordinates, this option should be turned on. The minimum image convention
ensures that displacements are calculated correctly even when particles cross a periodic boundary of the cell
and were mapped back into the cell by the simulation code. On the other hand, if you intend to analyze a system where particles have moved by
more than half of the simulation box size, then the minimum image convention cannot be used. You <em>must</em>
use unwrapped coordinates in this case, because large displacements would otherwise be folded back into the periodic cell thanks to
the minimum image convention.</p>
<p>The following figure shows the effect of the option on the calculated displacement vectors (which in turn affect the other kinematic deformation measures):</p>
<a class="reference internal image-reference" href="../../../_images/displacement_vectors_mapping.svg"><img alt="../../../_images/displacement_vectors_mapping.svg" src="../../../_images/displacement_vectors_mapping.svg" width="70%" /></a>
</section>
<section id="technical-references">
<h2>Technical references<a class="headerlink" href="#technical-references" title="Permalink to this heading"></a></h2>
<p>More detailed information on the strain calculation method can be found in the following sources:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="http://li.mit.edu/Archive/Activities/Archive/Papers/07/Shimizu07a.pdf">Shimizu, Ogata, Li: Mater. Trans. 48 (2007), 2923</a></p></li>
<li><p><a class="reference external" href="http://li.mit.edu/A/Graphics/A/annotate_atomic_strain/Doc/main.pdf">Li, Shimizu: Least-Square Atomic Strain</a></p></li>
<li><p><a class="reference external" href="http://li.mit.edu/A/Graphics/A/Doc/vonMisesInvariant.pdf">Li: von Mises shear strain invariant</a></p></li>
<li><p><a class="reference external" href="http://dx.doi.org/10.1103/PhysRevE.57.7192">Falk, Langer: Phys. Rev. E 57 (1998), 7192</a></p></li>
</ul>
</div></blockquote>
<p>Note that OVITO uses an internal convention which treats particle positions as column vectors.
Other programs such as <strong class="program">AtomEye</strong> may use a row-vector convention instead.
As a consequence, the computed deformation gradient tensors will appear transposed.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference internal" href="displacement_vectors.html#particles-modifiers-displacement-vectors"><span class="std std-ref">Displacement vectors</span></a> modifier</p></li>
<li><p><a class="reference external" href="../../../python/modules/ovito_modifiers.html#ovito.modifiers.AtomicStrainModifier" title="(in OVITO Python Reference v3.10.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ovito.modifiers.AtomicStrainModifier</span></code></a> (Python API)</p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="assign_color.html" class="btn btn-neutral float-left" title="Assign color" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bond_analysis.html" class="btn btn-neutral float-right" title="Bond analysis pro" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024 OVITO GmbH, Germany.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>